/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/server.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n//# sourceURL=webpack:///./node_modules/uuid/lib/bytesToUuid.js?");

/***/ }),

/***/ "./node_modules/uuid/lib/rng.js":
/*!**************************************!*\
  !*** ./node_modules/uuid/lib/rng.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// Unique ID creation requires a high quality random # generator.  In node.js\n// this is pretty straight-forward - we use the crypto API.\n\nvar crypto = __webpack_require__(/*! crypto */ \"crypto\");\n\nmodule.exports = function nodeRNG() {\n  return crypto.randomBytes(16);\n};\n\n\n//# sourceURL=webpack:///./node_modules/uuid/lib/rng.js?");

/***/ }),

/***/ "./node_modules/uuid/v4.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var rng = __webpack_require__(/*! ./lib/rng */ \"./node_modules/uuid/lib/rng.js\");\nvar bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ \"./node_modules/uuid/lib/bytesToUuid.js\");\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n//# sourceURL=webpack:///./node_modules/uuid/v4.js?");

/***/ }),

/***/ "./src/api/v1/middleware/Auth.js":
/*!***************************************!*\
  !*** ./src/api/v1/middleware/Auth.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _repository_UserRepository__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../repository/UserRepository */ \"./src/api/v1/repository/UserRepository.js\");\n\r\n\r\n\r\nconst Auth = {\r\n  /**\r\n   * Verify Token\r\n   * @param {object} req\r\n   * @param {object} res\r\n   * @param {object} next\r\n   * @returns {object|void} response object\r\n   */\r\n  async verifyToken(req, res, next) {\r\n    let token = req.headers['authorization'];\r\n    if (!token) {\r\n      return res.status(400).send({ message: 'Token is not provided' });\r\n    }\r\n    try {\r\n      token = token.substring(7, token.length);\r\n      const decoded = await jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default.a.verify(token, \"secretkey23456;\");\r\n      const { rows } = await Object(_repository_UserRepository__WEBPACK_IMPORTED_MODULE_1__[\"getUserByKey\"])('id', [decoded.userId]);\r\n\r\n      if (!rows[0]) {\r\n        return res.status(400).send({ message: 'The token you provided is invalid' });\r\n      }\r\n      req.body.user = rows[0];\r\n\r\n      next();\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Auth);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/middleware/Auth.js?");

/***/ }),

/***/ "./src/api/v1/middleware/TransactionMiddleware.js":
/*!********************************************************!*\
  !*** ./src/api/v1/middleware/TransactionMiddleware.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _repository_CreditCardRepository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../repository/CreditCardRepository */ \"./src/api/v1/repository/CreditCardRepository.js\");\n\r\n\r\nconst TransactionMiddleware = {\r\n\r\n  async verifyTransactionData(req, res, next) {\r\n\r\n    try {\r\n      const sender  = await Object(_repository_CreditCardRepository__WEBPACK_IMPORTED_MODULE_0__[\"getCreditCard\"])('user_id', [req.body.sender_id]);\r\n      const client = await Object(_repository_CreditCardRepository__WEBPACK_IMPORTED_MODULE_0__[\"getCreditCard\"])('user_id', [req.body.user.id]);\r\n\r\n      if (!sender.rows[0] || !client.rows[0]) {\r\n        return res.status(400).send({ message: 'You have no active card' });\r\n      }\r\n\r\n      req.body.client = client.rows[0];\r\n      req.body.sender = sender.rows[0];\r\n      next();\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TransactionMiddleware);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/middleware/TransactionMiddleware.js?");

/***/ }),

/***/ "./src/api/v1/models/CreditCard.js":
/*!*****************************************!*\
  !*** ./src/api/v1/models/CreditCard.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\n\r\nclass CreditCard {\r\n  constructor(data) {\r\n    this.credit_card_id = uuid_v4__WEBPACK_IMPORTED_MODULE_1___default()();\r\n    this.user_id = data.user.id;\r\n    this.credit_card_number = data.credit_card_number;\r\n    this.credit_card_cardholder_name = data.credit_card_cardholder_name;\r\n    this.credit_card_code = data.credit_card_code;\r\n    this.credit_card_expiration_time =\r\n      data.credit_card_expiration_time || moment__WEBPACK_IMPORTED_MODULE_0___default()(new Date()).add(1, 'years');\r\n    this.created_date = data.created_date || moment__WEBPACK_IMPORTED_MODULE_0___default()(new Date());\r\n  }\r\n\r\n  set creditCardId(value) {\r\n    this.credit_card_id = value;\r\n  }\r\n\r\n  set userId(value) {\r\n    this.user_id = value;\r\n  }\r\n\r\n  set creditCardNumber(value) {\r\n    this.credit_card_number = value;\r\n  }\r\n\r\n  set creditCardCardholderName(value) {\r\n    this.credit_card_cardholder_name = value;\r\n  }\r\n\r\n  set creditCardCode(value) {\r\n    this.credit_card_code = value;\r\n  }\r\n\r\n  set creditCardExpirationTime(value) {\r\n    this.credit_card_expiration_time = value;\r\n  }\r\n\r\n  set createdDate(value) {\r\n    this.created_date = value;\r\n  }\r\n\r\n  get creditCardId() {\r\n    return this.credit_card_id;\r\n  }\r\n\r\n  get userId() {\r\n    return this.user_id;\r\n  }\r\n\r\n  get creditCardNumber() {\r\n    return this.credit_card_number;\r\n  }\r\n\r\n  get creditCardCardholderName() {\r\n    return this.credit_card_cardholder_name;\r\n  }\r\n\r\n  get creditCardCode() {\r\n    return this.credit_card_code;\r\n  }\r\n\r\n  get creditCardExpirationTime() {\r\n    return this.credit_card_expiration_time;\r\n  }\r\n\r\n  get createdDate() {\r\n    return this.created_date;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreditCard);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/models/CreditCard.js?");

/***/ }),

/***/ "./src/api/v1/models/Product.js":
/*!**************************************!*\
  !*** ./src/api/v1/models/Product.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\nclass Product {\r\n\r\n    constructor(data) {\r\n        this.product_id = uuid_v4__WEBPACK_IMPORTED_MODULE_1___default()();\r\n        this.user_id = data.user.id;\r\n        this.product_name = data.product_name;\r\n        this.product_price = data.product_price;\r\n        this.created_date = data.created_date || moment__WEBPACK_IMPORTED_MODULE_0___default()(new Date());\r\n        this.modified_date = data.modified_date || moment__WEBPACK_IMPORTED_MODULE_0___default()(new Date());\r\n    }\r\n\r\n    get userId() {\r\n        return this.user_id;\r\n    }\r\n\r\n    set userId(value) {\r\n        this.user_id = value;\r\n    }\r\n\r\n    get productId() {\r\n        return this.product_id;\r\n    }\r\n\r\n    set productId(value) {\r\n        this.product_id = value;\r\n    }\r\n\r\n    get productName() {\r\n        return this.product_name;\r\n    }\r\n\r\n    set productName(value) {\r\n        this.product_name = value;\r\n    }\r\n\r\n    get productPrice() {\r\n        return this.product_price;\r\n    }\r\n\r\n    set productPrice(value) {\r\n        this.product_price = value;\r\n    }\r\n\r\n    get createdDate() {\r\n        return this.created_date;\r\n    }\r\n\r\n    set createdDate(value) {\r\n        this.created_date = value;\r\n    }\r\n\r\n    get modifiedDate() {\r\n        return this.modified_date;\r\n    }\r\n\r\n    set modifiedDate(value) {\r\n        this.modified_date = value;\r\n    }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Product);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/models/Product.js?");

/***/ }),

/***/ "./src/api/v1/models/TransactionHistory.js":
/*!*************************************************!*\
  !*** ./src/api/v1/models/TransactionHistory.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\nclass TransactionHistory {\r\n  constructor(data) {\r\n    this.transaction_history_id = uuid_v4__WEBPACK_IMPORTED_MODULE_1___default()();\r\n    this.sender_credit_card_number = data.sender.credit_card_number;\r\n    this.receiver_credit_card_number = data.client.credit_card_number;\r\n    this.transaction_amount = data.transaction_amount;\r\n    this.created_date = data.created_date || moment__WEBPACK_IMPORTED_MODULE_0___default()(new Date());\r\n    this.user_id = data.user.id;\r\n  }\r\n\r\n  set transactionHistoryId(value) {\r\n    this.transaction_history_id = value;\r\n  }\r\n\r\n  set senderCreditCardNumber(value) {\r\n    this.sender_credit_card_number = value;\r\n  }\r\n\r\n  set receiverCreditCardNumber(value) {\r\n    this.receiver_credit_card_number = value;\r\n  }\r\n\r\n  set transactionAmount(value) {\r\n    this.transaction_amount = value;\r\n  }\r\n\r\n  set createdDate(value) {\r\n    this.created_date = value;\r\n  }\r\n\r\n  set userId(value) {\r\n    this.user_id = value;\r\n  }\r\n\r\n  get transactionHistoryId() {\r\n    return this.transaction_history_id;\r\n  }\r\n\r\n  get senderCreditCardNumber() {\r\n    return this.sender_credit_card_number;\r\n  }\r\n\r\n  get receiverCreditCardNumber() {\r\n    return this.receiver_credit_card_number;\r\n  }\r\n\r\n  get transactionAmount() {\r\n    return this.transaction_amount;\r\n  }\r\n\r\n  get createdDate() {\r\n    return this.created_date;\r\n  }\r\n\r\n  get userId() {\r\n    return this.user_id;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TransactionHistory);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/models/TransactionHistory.js?");

/***/ }),

/***/ "./src/api/v1/models/User.js":
/*!***********************************!*\
  !*** ./src/api/v1/models/User.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _helpers_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../helpers/Helper */ \"./src/helpers/Helper.js\");\n\r\n\r\n\r\n\r\nclass User {\r\n  constructor(data) {\r\n    this.id = uuid_v4__WEBPACK_IMPORTED_MODULE_1___default()();\r\n    this.name = data.name;\r\n    this.surname = data.surname;\r\n    this.email = data.email;\r\n    this.password = _helpers_Helper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].hashPassword(data.password);\r\n    this.created_date = data.created_date || moment__WEBPACK_IMPORTED_MODULE_0___default()(new Date());\r\n    this.modified_date = data.modified_date || moment__WEBPACK_IMPORTED_MODULE_0___default()(new Date());\r\n  }\r\n\r\n  get userId() {\r\n    return this.id;\r\n  }\r\n\r\n  set userId(value) {\r\n    this.id = value;\r\n  }\r\n\r\n  get userName() {\r\n    return this.name;\r\n  }\r\n\r\n  set userName(value) {\r\n    this.name = value;\r\n  }\r\n\r\n  get userSurname() {\r\n    return this.surname;\r\n  }\r\n\r\n  set userSurname(value) {\r\n    this.surname = value;\r\n  }\r\n\r\n  get userEmail() {\r\n    return this.email;\r\n  }\r\n\r\n  set userEmail(value) {\r\n    this.email = value;\r\n  }\r\n\r\n  get userPassword() {\r\n    return this.password;\r\n  }\r\n\r\n  set userPassword(value) {\r\n    this.password = value;\r\n  }\r\n\r\n  get createdDate() {\r\n    return this.created_date;\r\n  }\r\n\r\n  set createdDate(value) {\r\n    this.created_date = value;\r\n  }\r\n\r\n  get modifiedDate() {\r\n    return this.modified_date;\r\n  }\r\n\r\n  set modifiedDate(value) {\r\n    this.modified_date = value;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (User);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/models/User.js?");

/***/ }),

/***/ "./src/api/v1/repository/CreditCardRepository.js":
/*!*******************************************************!*\
  !*** ./src/api/v1/repository/CreditCardRepository.js ***!
  \*******************************************************/
/*! exports provided: getCreditCard, createCreditCard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCreditCard\", function() { return getCreditCard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCreditCard\", function() { return createCreditCard; });\n/* harmony import */ var _db_config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../db_config/config */ \"./src/db_config/config.js\");\n\r\n\r\nconst getCreditCard = (key, val) => {\r\n  const createQuery = `SELECT * FROM credit_card WHERE ${key} = $1`;\r\n  return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, val);\r\n};\r\n\r\nconst createCreditCard = (creditCard) => {\r\n  const createQuery = `INSERT INTO\r\n      credit_card(credit_card_id, user_id,credit_card_number,credit_card_code,credit_card_cardholder_name,credit_card_expiration_time,created_date)\r\n      VALUES($1, $2, $3, $4, $5, $6, $7)\r\n      `;\r\n  const creditCardValues = [\r\n    creditCard.creditCardId,\r\n    creditCard.userId,\r\n    creditCard.creditCardNumber,\r\n    creditCard.creditCardCode,\r\n    creditCard.creditCardCardholderName,\r\n    creditCard.creditCardExpirationTime,\r\n    creditCard.createdDate\r\n  ];\r\n  return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, creditCardValues);\r\n};\r\n\n\n//# sourceURL=webpack:///./src/api/v1/repository/CreditCardRepository.js?");

/***/ }),

/***/ "./src/api/v1/repository/ProductRepository.js":
/*!****************************************************!*\
  !*** ./src/api/v1/repository/ProductRepository.js ***!
  \****************************************************/
/*! exports provided: getProduct, getProducts, createProduct, updateProduct, removeProduct */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProduct\", function() { return getProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProducts\", function() { return getProducts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createProduct\", function() { return createProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateProduct\", function() { return updateProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeProduct\", function() { return removeProduct; });\n/* harmony import */ var _db_config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../db_config/config */ \"./src/db_config/config.js\");\n\r\n\r\nconst getProduct = val => {\r\n    const createQuery = `SELECT * FROM products WHERE product_id = $1`;\r\n    return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, val);\r\n}\r\n\r\nconst getProducts = val => {\r\n    const createQuery = `SELECT * FROM products WHERE user_id = $1`;\r\n    return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, val);\r\n};\r\n\r\nconst createProduct = (product) => {\r\n    const createQuery = `INSERT INTO\r\n      products(product_id, user_id, product_name, product_price, created_date, modified_date)\r\n      VALUES($1, $2, $3, $4, $5, $6)\r\n      `;\r\n    const productValues = [\r\n        product.productId,\r\n        product.userId,\r\n        product.productName,\r\n        product.productPrice,\r\n        product.createdDate,\r\n        product.modifiedDate,\r\n    ];\r\n    return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, productValues);\r\n};\r\n\r\n\r\nconst updateProduct = (keys, values, productId) => {\r\n    const columns = keys.join(', ');\r\n    const colValues = keys.map( (key, index) => `$${index + 1}`).join(', ');\r\n    const createQuery = `UPDATE products\r\n    SET (product_name, product_price)\r\n    VALUES ($1, $2)\r\n    WHERE product_id = ${productId}`;\r\n    return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, values);\r\n}\r\n\r\nconst removeProduct = productID => {\r\n    const createQuery = `DELETE FROM products WHERE product_id = $1`;\r\n\r\n    return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, productID);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/api/v1/repository/ProductRepository.js?");

/***/ }),

/***/ "./src/api/v1/repository/TransactionHistoryRepository.js":
/*!***************************************************************!*\
  !*** ./src/api/v1/repository/TransactionHistoryRepository.js ***!
  \***************************************************************/
/*! exports provided: getTransactionHistory, createHistoryTransaction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTransactionHistory\", function() { return getTransactionHistory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createHistoryTransaction\", function() { return createHistoryTransaction; });\n/* harmony import */ var _db_config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../db_config/config */ \"./src/db_config/config.js\");\n\r\n\r\nconst getTransactionHistory = creditCardNumber => {\r\n  const createQuery = `SELECT * FROM transaction_history WHERE receiver_credit_card_number = ${creditCardNumber} OR sender_credit_card_number = ${creditCardNumber}`;\r\n  return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery);\r\n};\r\n\r\nconst createHistoryTransaction = transactionHistory => {\r\n  const createQuery = `INSERT INTO transaction_history(\r\n      transaction_history_id,\r\n      sender_credit_card_number,\r\n      receiver_credit_card_number,\r\n      transaction_amount,\r\n      created_date,\r\n      user_id)\r\n      VALUES($1, $2, $3, $4, $5, $6)\r\n      `;\r\n  const transactionHistoryValues = [\r\n    transactionHistory.transactionHistoryId,\r\n    transactionHistory.senderCreditCardNumber,\r\n    transactionHistory.receiverCreditCardNumber,\r\n    transactionHistory.transactionAmount,\r\n    transactionHistory.createdDate,\r\n    transactionHistory.userId\r\n  ];\r\n\r\n  return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, transactionHistoryValues);\r\n};\r\n\n\n//# sourceURL=webpack:///./src/api/v1/repository/TransactionHistoryRepository.js?");

/***/ }),

/***/ "./src/api/v1/repository/UserRepository.js":
/*!*************************************************!*\
  !*** ./src/api/v1/repository/UserRepository.js ***!
  \*************************************************/
/*! exports provided: getUserByKey, changePassword, createUser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserByKey\", function() { return getUserByKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changePassword\", function() { return changePassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createUser\", function() { return createUser; });\n/* harmony import */ var _db_config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../db_config/config */ \"./src/db_config/config.js\");\n\r\n\r\nconst getUserByKey = (key, val) => {\r\n  const createQuery = `SELECT * FROM users WHERE ${key} = $1`;\r\n  return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, val);\r\n};\r\n\r\nconst changePassword = (userValues, user_id) => {\r\n  const createQuery = `UPDATE users\r\n    SET (password, modified_date)\r\n    VALUES($1, $2)\r\n    WHERE id = ${user_id}\r\n    `;\r\n  return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, userValues);\r\n};\r\n\r\nconst createUser = user => {\r\n  const createQuery = `INSERT INTO\r\n      users(id, name, surname, email, password, created_date, modified_date)\r\n      VALUES($1, $2, $3, $4, $5, $6, $7)\r\n      `;\r\n  const userValues = [\r\n    user.userId,\r\n    user.userName,\r\n    user.userSurname,\r\n    user.userEmail,\r\n    user.userPassword,\r\n    user.createdDate,\r\n    user.modifiedDate\r\n  ];\r\n\r\n  return _db_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(createQuery, userValues);\r\n};\r\n\n\n//# sourceURL=webpack:///./src/api/v1/repository/UserRepository.js?");

/***/ }),

/***/ "./src/api/v1/services/CreditCardService.js":
/*!**************************************************!*\
  !*** ./src/api/v1/services/CreditCardService.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _repository_CreditCardRepository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../repository/CreditCardRepository */ \"./src/api/v1/repository/CreditCardRepository.js\");\n/* harmony import */ var _models_CreditCard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/CreditCard */ \"./src/api/v1/models/CreditCard.js\");\n\r\n\r\n\r\nconst CreditCardService = {\r\n  async verify(req, res) {\r\n    try {\r\n      const { rows } = await _repository_CreditCardRepository__WEBPACK_IMPORTED_MODULE_0__[\"getCreditCard\"]('user_id', [req.body.user.id]);\r\n\r\n      if (!rows[0]) {\r\n        return res.status(400).send({ message: 'Your card is not connected' });\r\n      }\r\n\r\n      return res.status(200).send();\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  },\r\n\r\n  async create(req, res) {\r\n    const reqBody = req.body;\r\n    if (!reqBody.credit_card_number || !reqBody.credit_card_code || !reqBody.credit_card_cardholder_name) {\r\n      return res.status(400).send({ message: 'Some values are missing' });\r\n    }\r\n    try {\r\n       await _repository_CreditCardRepository__WEBPACK_IMPORTED_MODULE_0__[\"createCreditCard\"](new _models_CreditCard__WEBPACK_IMPORTED_MODULE_1__[\"default\"](reqBody));\r\n      return res.status(201).send();\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreditCardService);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/services/CreditCardService.js?");

/***/ }),

/***/ "./src/api/v1/services/ProductService.js":
/*!***********************************************!*\
  !*** ./src/api/v1/services/ProductService.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _repository_ProductRepository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../repository/ProductRepository */ \"./src/api/v1/repository/ProductRepository.js\");\n/* harmony import */ var _models_Product__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/Product */ \"./src/api/v1/models/Product.js\");\n\r\n\r\n\r\nconst ProductService = {\r\n  async getProduct(req, res) {\r\n    try {\r\n      const { rows } = await _repository_ProductRepository__WEBPACK_IMPORTED_MODULE_0__[\"getProduct\"]([req.params.id]);\r\n\r\n      if (!rows[0]) {\r\n        return res\r\n          .status(400)\r\n          .send({ message: 'We did not find product with chosen id' });\r\n      }\r\n\r\n      return res.status(200).send(rows[0]);\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  },\r\n\r\n  async getProducts(req, res) {\r\n    try {\r\n      const { rows } = await _repository_ProductRepository__WEBPACK_IMPORTED_MODULE_0__[\"getProducts\"]([req.body.user.id]);\r\n      return res.status(200).send(rows);\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  },\r\n\r\n  async addProduct(req, res) {\r\n    const reqBody = req.body;\r\n    if (!reqBody.product_name || !reqBody.product_price) {\r\n      return res.status(400).send({ message: 'Some values are missing' });\r\n    }\r\n    const product = new _models_Product__WEBPACK_IMPORTED_MODULE_1__[\"default\"](reqBody);\r\n    try {\r\n      await _repository_ProductRepository__WEBPACK_IMPORTED_MODULE_0__[\"createProduct\"](product);\r\n      return res.status(201).send(product);\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  },\r\n\r\n  async editProduct(req, res) {\r\n    const productName = req.body.product_name;\r\n    const productPrice = req.body.product_price;\r\n    try {\r\n      const { rows } = await _repository_ProductRepository__WEBPACK_IMPORTED_MODULE_0__[\"updateProduct\"](\r\n        ['product_name', 'product_price'],\r\n        [productName, productPrice],\r\n        req.params.id\r\n      ).then(res => console.log(res)).catch(err => console.log(err));\r\n\r\n      if (!rows[0]) {\r\n        return res\r\n          .status(400)\r\n          .send({ message: 'You have no products to update' });\r\n      }\r\n      return res.status(204).send();\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  },\r\n\r\n  async removeProduct(req, res) {\r\n    try {\r\n      await _repository_ProductRepository__WEBPACK_IMPORTED_MODULE_0__[\"removeProduct\"](req.params.id);\r\n      return res.status(200).send();\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductService);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/services/ProductService.js?");

/***/ }),

/***/ "./src/api/v1/services/TransactionHistoryService.js":
/*!**********************************************************!*\
  !*** ./src/api/v1/services/TransactionHistoryService.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _repository_TransactionHistoryRepository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../repository/TransactionHistoryRepository */ \"./src/api/v1/repository/TransactionHistoryRepository.js\");\n/* harmony import */ var _models_TransactionHistory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/TransactionHistory */ \"./src/api/v1/models/TransactionHistory.js\");\n/* harmony import */ var _repository_CreditCardRepository__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../repository/CreditCardRepository */ \"./src/api/v1/repository/CreditCardRepository.js\");\n\r\n\r\n\r\n\r\nconst TransactionHistoryService = {\r\n  async balance(req, res) {\r\n    try {\r\n      const creditCardNumber = await _repository_CreditCardRepository__WEBPACK_IMPORTED_MODULE_2__[\"getCreditCard\"](\r\n        'user_id',\r\n        [req.body.user.id]\r\n      ).then(res => {\r\n        if (res.rows[0]) {\r\n          return res.rows[0].credit_card_number;\r\n        }\r\n      });\r\n      const transactionHistory = await _repository_TransactionHistoryRepository__WEBPACK_IMPORTED_MODULE_0__[\"getTransactionHistory\"](\r\n        creditCardNumber\r\n      ).then(res => res.rows);\r\n\r\n      if (!transactionHistory[0]) {\r\n        return res.status(200).send({\r\n          payedSum: 0,\r\n          receivedSum: 0,\r\n          balance: 0\r\n        });\r\n      }\r\n      const transactionsMade = transactionHistory.filter(\r\n        transHis => transHis.sender_credit_card_number === creditCardNumber\r\n      );\r\n      const transactionsReceived = transactionHistory.filter(\r\n        transHis => transHis.receiver_credit_card_number === creditCardNumber\r\n      );\r\n\r\n      const payedSum = transactionsMade\r\n        .map(transaction => Number(transaction.transaction_amount))\r\n        .reduce((a, b) => {\r\n          return a + b;\r\n        }, 0);\r\n      const receivedSum = transactionsReceived\r\n        .map(transaction => Number(transaction.transaction_amount))\r\n        .reduce((a, b) => {\r\n          return a + b;\r\n        }, 0);\r\n      const balance = receivedSum - payedSum;\r\n\r\n      return res.status(200).send({\r\n        transactionsMade,\r\n        transactionsReceived,\r\n        payedSum,\r\n        balance,\r\n        receivedSum\r\n      });\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  },\r\n\r\n  async addTransaction(req, res) {\r\n    const reqBody = req.body;\r\n    const transactionHistory = new _models_TransactionHistory__WEBPACK_IMPORTED_MODULE_1__[\"default\"](reqBody);\r\n    try {\r\n      await _repository_TransactionHistoryRepository__WEBPACK_IMPORTED_MODULE_0__[\"createHistoryTransaction\"](\r\n        new _models_TransactionHistory__WEBPACK_IMPORTED_MODULE_1__[\"default\"](reqBody)\r\n      );\r\n      return res.status(201).send();\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TransactionHistoryService);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/services/TransactionHistoryService.js?");

/***/ }),

/***/ "./src/api/v1/services/UserService.js":
/*!********************************************!*\
  !*** ./src/api/v1/services/UserService.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../helpers/Helper */ \"./src/helpers/Helper.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/User */ \"./src/api/v1/models/User.js\");\n/* harmony import */ var _repository_UserRepository__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../repository/UserRepository */ \"./src/api/v1/repository/UserRepository.js\");\n\r\n\r\n\r\n\r\n\r\nconst UserService = {\r\n  async create(req, res) {\r\n    if (!req.body.email || !req.body.password) {\r\n      return res.status(400).send({ message: 'Some values are missing' });\r\n    }\r\n    if (!_helpers_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isValidEmail(req.body.email)) {\r\n      return res\r\n        .status(400)\r\n        .send({ message: 'Please enter a valid email address' });\r\n    }\r\n\r\n    const user = new _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"](req.body);\r\n\r\n    try {\r\n      const { rows } = await _repository_UserRepository__WEBPACK_IMPORTED_MODULE_3__[\"createUser\"](user);\r\n      const expires_in = 24 * 60 * 60;\r\n      const access_token = _helpers_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].generateToken(user.userId, expires_in);\r\n      return res.status(201).send({ access_token, expires_in });\r\n    } catch (error) {\r\n      if (error.routine === '_bt_check_unique') {\r\n        return res\r\n          .status(400)\r\n          .send({ message: 'User with that EMAIL already exist' });\r\n      }\r\n      return res.status(400).send(error);\r\n    }\r\n  },\r\n\r\n  async login(req, res) {\r\n    if (!req.body.email || !req.body.password) {\r\n      return res.status(400).send({ message: 'Some values are missing' });\r\n    }\r\n    if (!_helpers_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isValidEmail(req.body.email)) {\r\n      return res\r\n        .status(400)\r\n        .send({ message: 'Please enter a valid email address' });\r\n    }\r\n\r\n    try {\r\n      const { rows } = await _repository_UserRepository__WEBPACK_IMPORTED_MODULE_3__[\"getUserByKey\"]('email', [\r\n        req.body.email\r\n      ]);\r\n      if (!rows[0]) {\r\n        return res.status(404).send({ message: 'User not found' });\r\n      }\r\n      if (!_helpers_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].comparePassword(rows[0].password, req.body.password)) {\r\n        return res.status(401).send();\r\n      }\r\n      const expires_in = 24 * 60 * 60;\r\n      const access_token = _helpers_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].generateToken(rows[0].id, expires_in);\r\n      const user  = rows[0];\r\n      return res.status(200).send({user, access_token, expires_in });\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  },\r\n\r\n  async edit(req, res) {\r\n    if (!req.body.user) {\r\n      return res.status(400).send({ message: 'Some values are missing' });\r\n    }\r\n    const password = _helpers_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hashPassword(req.body.password);\r\n    const edit_date = moment__WEBPACK_IMPORTED_MODULE_0___default()(new Date());\r\n    try {\r\n      const { rows } = await _repository_UserRepository__WEBPACK_IMPORTED_MODULE_3__[\"changePassword\"](\r\n        [password, edit_date],\r\n        req.user.id\r\n      );\r\n      if (!rows[0]) {\r\n        return res.status(404).send({ message: 'User not found' });\r\n      }\r\n      const expires_in = 24 * 60 * 60;\r\n      const access_token = _helpers_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].generateToken(rows[0].id, expires_in);\r\n      return res.status(200).send({ access_token, expires_in });\r\n    } catch (error) {\r\n      return res.status(400).send(error);\r\n    }\r\n  }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserService);\r\n\n\n//# sourceURL=webpack:///./src/api/v1/services/UserService.js?");

/***/ }),

/***/ "./src/db_config/config.js":
/*!*********************************!*\
  !*** ./src/db_config/config.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\nconst isProduction = \"development\" === 'production';\r\nconst dbURL = 'postgresql://postgres:Arsenal123@localhost:5432/diplomaproject';\r\nconst connectionString = `postgresql://${\"postgres\"}:${\"Arsenal123\"}@${\"localhost\"}:${\"5432\"}/${\"diplomaproject\"}`;\r\n\r\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__[\"Pool\"]({\r\n  connectionString: 'postgresql://postgres:Arsenal123@localhost:5432/diplomaproject',\r\n  ssl: false\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n  /**\r\n   * DB Query\r\n   * @param {object} req\r\n   * @param {object} res\r\n   * @returns {object} object\r\n   */\r\n  query(text, params) {\r\n    return new Promise((resolve, reject) => {\r\n      pool\r\n        .query(text, params)\r\n        .then(res => resolve(res))\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n});\r\n\n\n//# sourceURL=webpack:///./src/db_config/config.js?");

/***/ }),

/***/ "./src/helpers/Helper.js":
/*!*******************************!*\
  !*** ./src/helpers/Helper.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\nconst Helper = {\r\n  /**\r\n   * Hash Password Method\r\n   * @param {string} password\r\n   * @returns {string} returns hashed password\r\n   */\r\n  hashPassword(password) {\r\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default.a.hashSync(password, bcryptjs__WEBPACK_IMPORTED_MODULE_0___default.a.genSaltSync(8));\r\n  },\r\n  /**\r\n   * comparePassword\r\n   * @param {string} hashPassword\r\n   * @param {string} password\r\n   * @returns {Boolean} return True or False\r\n   */\r\n  comparePassword(hashPassword, password) {\r\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default.a.compareSync(password, hashPassword);\r\n  },\r\n  /**\r\n   * isValidEmail helper method\r\n   * @param {string} email\r\n   * @returns {Boolean} True or False\r\n   */\r\n  isValidEmail(email) {\r\n    return /\\S+@\\S+\\.\\S+/.test(email);\r\n  },\r\n  /**\r\n   * Gnerate Token\r\n   * @param {string} id\r\n   * @param {string} expireTime\r\n   * @returns {string} token\r\n   */\r\n  generateToken(id, expireTime) {\r\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default.a.sign(\r\n      {\r\n        userId: id\r\n      },\r\n      \"secretkey23456;\",\r\n      { expiresIn: expireTime }\r\n    );\r\n    return token;\r\n  },\r\n\r\n  /**\r\n   * isCreditCardActive helper method\r\n   * @param {moment.Moment reqCreditCard\r\n   * @param {moment.Moment dbCreditCard\r\n   * @returns {Boolean} True or False\r\n   */\r\n  isCreditCardActive(dbCreditCard) {\r\n    return moment().isBefore(moment(dbCreditCard));\r\n  }\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Helper);\r\n\n\n//# sourceURL=webpack:///./src/helpers/Helper.js?");

/***/ }),

/***/ "./src/server.js":
/*!***********************!*\
  !*** ./src/server.js ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var babel_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! babel-polyfill */ \"babel-polyfill\");\n/* harmony import */ var babel_polyfill__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(babel_polyfill__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./api/v1/middleware/Auth */ \"./src/api/v1/middleware/Auth.js\");\n/* harmony import */ var _api_v1_services_UserService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./api/v1/services/UserService */ \"./src/api/v1/services/UserService.js\");\n/* harmony import */ var _api_v1_services_CreditCardService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./api/v1/services/CreditCardService */ \"./src/api/v1/services/CreditCardService.js\");\n/* harmony import */ var _api_v1_services_TransactionHistoryService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./api/v1/services/TransactionHistoryService */ \"./src/api/v1/services/TransactionHistoryService.js\");\n/* harmony import */ var _api_v1_services_ProductService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./api/v1/services/ProductService */ \"./src/api/v1/services/ProductService.js\");\n/* harmony import */ var _api_v1_middleware_TransactionMiddleware__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./api/v1/middleware/TransactionMiddleware */ \"./src/api/v1/middleware/TransactionMiddleware.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst path = __webpack_require__(/*! path */ \"path\");\r\n\r\n\r\n\r\n\r\n\r\n__webpack_require__(/*! dotenv */ \"dotenv\").config({ path: path.resolve(__dirname, '../env') });\r\n\r\nconst port = process.env.PORT || 3000;\r\nconst corsOpts = {\r\n  origin: '*',\r\n  methods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE'],\r\n  allowedHeaders: ['Content-Type', 'x-access-token', 'Authorization']\r\n};\r\nconst app = express__WEBPACK_IMPORTED_MODULE_0___default()();\r\n\r\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default.a.json());\r\n\r\napp.get('/', (req, res) => {\r\n  res.status(200).send('This is an authentication server');\r\n});\r\napp.use(cors__WEBPACK_IMPORTED_MODULE_1___default()(corsOpts));\r\napp.listen(port);\r\n\r\napp.post('/api/login', _api_v1_services_UserService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].login);\r\napp.patch('/api/users', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_UserService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].edit);\r\napp.post('/api/users', _api_v1_services_UserService__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create);\r\n\r\napp.get('/api/cards', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_CreditCardService__WEBPACK_IMPORTED_MODULE_5__[\"default\"].verify);\r\napp.post('/api/cards', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_CreditCardService__WEBPACK_IMPORTED_MODULE_5__[\"default\"].create);\r\n\r\napp.get('/api/products/:id', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_ProductService__WEBPACK_IMPORTED_MODULE_7__[\"default\"].getProduct);\r\napp.get('/api/products', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_ProductService__WEBPACK_IMPORTED_MODULE_7__[\"default\"].getProducts);\r\napp.post('/api/products', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_ProductService__WEBPACK_IMPORTED_MODULE_7__[\"default\"].addProduct);\r\napp.patch('/api/products/:id', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_ProductService__WEBPACK_IMPORTED_MODULE_7__[\"default\"].editProduct);\r\napp.delete('/api/products/:id', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_ProductService__WEBPACK_IMPORTED_MODULE_7__[\"default\"].removeProduct);\r\n\r\napp.get('/api/transactions', _api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_services_TransactionHistoryService__WEBPACK_IMPORTED_MODULE_6__[\"default\"].balance);\r\napp.post('/api/transactions', [_api_v1_middleware_Auth__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyToken, _api_v1_middleware_TransactionMiddleware__WEBPACK_IMPORTED_MODULE_8__[\"default\"].verifyTransactionData], _api_v1_services_TransactionHistoryService__WEBPACK_IMPORTED_MODULE_6__[\"default\"].addTransaction);\r\nconsole.log('app running on port ', 3000);\r\n\n/* WEBPACK VAR INJECTION */}.call(this, \"/\"))\n\n//# sourceURL=webpack:///./src/server.js?");

/***/ }),

/***/ "babel-polyfill":
/*!*********************************!*\
  !*** external "babel-polyfill" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"babel-polyfill\");\n\n//# sourceURL=webpack:///external_%22babel-polyfill%22?");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcryptjs\");\n\n//# sourceURL=webpack:///external_%22bcryptjs%22?");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cors\");\n\n//# sourceURL=webpack:///external_%22cors%22?");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"crypto\");\n\n//# sourceURL=webpack:///external_%22crypto%22?");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dotenv\");\n\n//# sourceURL=webpack:///external_%22dotenv%22?");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");\n\n//# sourceURL=webpack:///external_%22express%22?");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");\n\n//# sourceURL=webpack:///external_%22jsonwebtoken%22?");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"moment\");\n\n//# sourceURL=webpack:///external_%22moment%22?");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");\n\n//# sourceURL=webpack:///external_%22path%22?");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"pg\");\n\n//# sourceURL=webpack:///external_%22pg%22?");

/***/ })

/******/ });